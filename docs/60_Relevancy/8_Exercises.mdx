# üëê Exercises

## project the score

Fix this Playground so that the `score` being projected is the relevancy score Atlas Search uses for default sorting.

<Playground url="https://search-playground.mongodb.com/tools/code-sandbox/snapshots/67d2ef3c808223b17a90bd7a">score not projected</Playground>
<details>
  <summary>Solution</summary>
  <div>
    The score is available in the pipeline `$meta` context as `searchScore`. 
    ```js
    {"$meta": "searchScore"}
    ```
    <Playground url="https://search-playground.mongodb.com/tools/code-sandbox/snapshots/67d2ef7e643f61797f19d33e">solution</Playground>
  </div>
</details>


## project the score details

<Playground url="https://search-playground.mongodb.com/tools/code-sandbox/snapshots/67d2ee9b643f61797f19d33c">add the score details into the results</Playground>
<details>
  <summary>Solution</summary>
  <div>
    Enable the score details with this setting in `$search`:
    ```js
    scoreDetails: true
    ```

    Include the score details by adding this to `$addFields`:
    ```js
    "scoreDetails": {
      "$meta": "searchScoreDetails"
    }
    ```
    <Playground url="https://search-playground.mongodb.com/tools/code-sandbox/snapshots/67d2eec2808223b17a90bd78">solution</Playground>
  </div>
</details>

## score/sort by the `weight` field

<Playground url="https://search-playground.corp.mongodb.com/tools/code-sandbox/snapshots/67d2eddb643f61797f19d33a">task: set the search (relevance) score to the value of our custom `weight` field</Playground>
<details>
  <summary>Solution</summary>
  <div>
    Use the `weight` value as the score for the `compound` operator:
    ```js
    "score": {
      "function": {
        "path": "weight"
      }
    }
    ```
    <Playground url="https://search-playground.corp.mongodb.com/tools/code-sandbox/snapshots/679cb6fdd0df60f0254e5d6a">solution</Playground>
  </div>
</details>
